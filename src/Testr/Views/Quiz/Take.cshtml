@{
    Layout = "Shared/_Skeleton.cshtml";
}

@section Javascript {
    <script type="text/javascript" src="@Url.Content("~/Scripts/jquery-1.7.2.min.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/Scripts/pure_min.js")"></script>
    <script type="text/javascript">
        var questionIndex = 0,
            quizId = @Model.Id;
        
        $(document).ready(function () {
            $("#next").on("click", function (event) {
                questionIndex = questionIndex + 1;
                loadQuestion(quizId, questionIndex);
                event.stopImmediatePropagation();
                return false;
            });

            $("#previous").on("click", function (event) {
                questionIndex = questionIndex - 1;             
                loadQuestion(quizId, questionIndex);
                event.stopImmediatePropagation();
                return false;
            });

            loadQuestion(quizId, questionIndex);
        });

        function loadQuestion(quizId, questionIndex) {
            $.get("/quiz/" + quizId + "/take/" + questionIndex, function(q) {
                if (q.type == "Review") {
                    window.location.href = q.value;
                }
                else {
                    $("div.template")
                        .autoRender(q.value);
                }
            });
        }
    </script>
}
    
<form action="" method="post">
    <div class="template">
        <div class="Text"></div>
        <ul class="Answers">
            <li><input type="radio" name="answer" value="" /><span class="Text"></span></li>
        </ul>
    </div>
    <button id="previous">Previous</button><button id="next">Next</button>
</form>